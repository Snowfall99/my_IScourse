# 网络层：控制平面
### 路由选择算法
从发送方到接收方的过程中确定一条通过路由器网络的好的路径
- 集中式路由选择算法：用完整的、全局性的网络知识计算出从源到目的地之间的最低开销路径。也就是说，该算法以以所有节点之间的连通性以及所有链路的开销为输入。具有全局状态信息的算法常被称为链路状态算法，因为该算法必须知道网络中每条链路的开销。
- 分散式路由选择算法：路由器以迭代、分布式的方式计算出最低开销的路径。每个节点仅有与其直接相连链路的开销知识即可开始工作。然后通过迭代计算过程以及与相邻节点的信息交换，一个节点逐渐计算出到达某目的节点或一组目的节点的最低开销路径。
###### 链路状态(LS)路由选择算法
通过让每个节点向网络中所有其他节点广播链路状态分组来传播网络拓扑和所有的链路开销信息，其中每个链路状态包含它所连接的链路的标和开销。在实践中，这经常由链路状态广播算法来完成。节点广播的结果是所有节点都具有该网络的统一、完整的视图。  
**Dijkstra算法：** 计算从某节点到网络中其他节点的最低开销路径。Dijkstra算法是迭代算法，其性质是经算法的第k次迭代后，可知道到k个目的节点的最低开销路径，在到所有目的节点的最低开销路径中，这k条路径具有k个最低开销。
###### 距离向量路由选择算法
距离向量算法是一种迭代的、异步和分布式的算法。说它是分布式的，因为每个节点都要从一个或者多个直接相连邻居接收某些信息，执行计算，然后将其计算结果分发给邻居。说它是迭代的，因为此过程一直要持续到邻居之间无更多信息要交换为止。说它是异步的，是因为它不要求所有节点相互之间步伐一致地操作。  
当一个运行DV算法的节点检测到从它自己到邻居地链路开销发生变化时，它就更新其距离向量，并且如果最低开销路径的开销发生了变化，向邻居通知其新的距离向量。

### 边界网关协议BGP
- BGP为每台路由器提供了完成以下任务的手段：
    - 从邻居AS获得前缀的可达性信息。特别是，BGP允许每个子网向因特网的其余部分告知它的存在
    - 确定到该前缀的“最好的”路由。一台路由器可能知道两条或者更多条到特定前缀的不同路由。为确定最好的路由，该路由器将本地运行一个BGP路由选择过程。该最好的路由将基于策略以及可达性信息确定
        - 热土豆路由选择算法
- [具体实现过程参考书中内容]

### SDN控制平面
- SDN体系结构的4个关键特征：
    1. 基于流的转发：SDN控制的交换机的分组转发工作，能够基于运输层、网络层或链路层首部中任意数量的首部字段值进行
    1. 数据平面与控制平面分离：数据平面由网络交换机组成，该设备在它们的流表中执行“匹配加动作”的规则。控制平面由服务器以及决定和管理交换机的流标的软件组成
    1. 网络控制功能：控制平面自身由两个组件组成：一个SDN控制器，以及若干网络控制应用程序。控制器维护准确的网络状态信息；为运行在控制平面中的网络控制应用程序提供这些信息：提供方法，这些应用程序能够通过这些方法监视、编程和控制下面的网络设备
    1. 可编程的网络
- SDN控制器功能：
    1. 通信层：SDN控制器和受控网络之间的通信
    1. 网络范围状态管理层：由SDN控制平面所做出的最终控制决定，将要求控制器具有有关网络的主机、链路、交换机和其他SDN控制器控制设备的最新状态信息
    1. 对于网络控制应用程序层的接口：控制器通过它的“北向”接口与网络控制应用程序交互。该API允许网络控制应用程序在状态管理层之间读/写网络状态和流表。当状态改变事件出现时，应用程序能够注册进行通告

### 因特网控制报文协议ICMP
- ICMP被主机和路由器用来彼此沟通网络层信息
- ICMP报文承载在IP分组中